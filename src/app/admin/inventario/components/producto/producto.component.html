<div class="card px-6 py-6">
    <h1>Producto</h1>

    <!-- Barra de herramientas -->
    <p-toolbar styleClass="mb-4">
        <!-- Dropdown para filtrar categorías -->
        <p-dropdown 
            [options]="categorias" 
            optionLabel="name" 
            [showClear]="true" 
            placeholder="Filtrar por Categorías">
        </p-dropdown>
        <ng-template pTemplate="left">
            <div class="my-2">
                <!-- Botón Exportar -->
                <button 
                    pButton 
                    pRipple 
                    label="Exportar" 
                    icon="pi pi-upload" 
                    class="p-button-help" 
                    (click)="dt.exportCSV()">
                </button>
            </div>
        </ng-template>
    </p-toolbar>

   <!-- Tabla de productos -->
<p-table #dt [value]="products" [paginator]="true" [rows]="10" [responsiveLayout]="'scroll'">
    <!-- Encabezados dinámicos -->
    <ng-template pTemplate="header">
        <tr>
            <th>ID</th>
            <th>Nombre</th>
            <th>Precio</th>
            <th>Categoría</th>
            <th>Stock</th>
            <th>Estado</th>
            <th>Acciones</th>
        </tr>
    </ng-template>

    <!-- Celdas dinámicas -->
    <ng-template pTemplate="body" let-product>
        <tr>
            <td>{{ product.id }}</td>
            <td>{{ product.nombre }}</td>
            <td>{{ product.precio }}</td>
            <td>{{ product.categoria_id }}</td>
            <td>{{ product.stock }}</td>
            <td>{{ product.estado }}</td>
            <td>
                <button pButton icon="pi pi-pencil" class="p-button-rounded p-button-success mr-2"
                    (click)="editProduct(product)">
                </button>
                <button pButton icon="pi pi-trash" class="p-button-rounded p-button-danger"
                    (click)="deleteProduct(product)">
                </button>
            </td>
        </tr>
    </ng-template>
</p-table>
